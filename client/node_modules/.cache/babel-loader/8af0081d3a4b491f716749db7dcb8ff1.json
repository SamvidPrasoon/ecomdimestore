{"ast":null,"code":"import { CLEAR_ERRORS, REGISTER_FAIL, REGISTER_SUCCESS, USER_LOADED, AUTH_ERROR, LOGIN_FAIL, LOGIN_SUCCESS, LOGOUT, ALL_USERS, STATUS } from '../types';\nexport default ((state, action) => {\n  switch (action.type) {\n    case REGISTER_SUCCESS:\n    case LOGIN_SUCCESS:\n      localStorage.setItem('token', action.payload.token);\n      return { ...state,\n        ...action.payload,\n        loading: false,\n        isAuthenticated: true\n      };\n\n    case REGISTER_FAIL:\n    case LOGIN_FAIL:\n      localStorage.removeItem('token');\n      return { ...state,\n        token: null,\n        loading: false,\n        isAuthenticated: false,\n        error: action.payload\n      };\n\n    case CLEAR_ERRORS:\n      localStorage.removeItem('token');\n      return { ...state,\n        error: ''\n      };\n\n    case USER_LOADED:\n      return { ...state,\n        isAuthenticated: true,\n        loading: false,\n        user: action.payload\n      };\n\n    case ALL_USERS:\n      return { ...state,\n        users: action.payload\n      };\n\n    case AUTH_ERROR:\n      localStorage.removeItem('token');\n      return { ...state,\n        token: null,\n        isAuthenticated: false,\n        loading: false\n      };\n\n    case LOGOUT:\n      localStorage.removeItem('token');\n      return { ...state,\n        token: null,\n        isAuthenticated: false,\n        user: null,\n        loading: false\n      };\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["C:/Users/KIIT/Desktop/ecom/client/src/authcontextapi/authreducer.js"],"names":["CLEAR_ERRORS","REGISTER_FAIL","REGISTER_SUCCESS","USER_LOADED","AUTH_ERROR","LOGIN_FAIL","LOGIN_SUCCESS","LOGOUT","ALL_USERS","STATUS","state","action","type","localStorage","setItem","payload","token","loading","isAuthenticated","removeItem","error","user","users"],"mappings":"AAAA,SACIA,YADJ,EAEIC,aAFJ,EAGIC,gBAHJ,EAIIC,WAJJ,EAKIC,UALJ,EAMIC,UANJ,EAOIC,aAPJ,EAQIC,MARJ,EASIC,SATJ,EAUIC,MAVJ,QAWO,UAXP;AAiBA,gBAAe,CAACC,KAAD,EAAOC,MAAP,KAAkB;AAC7B,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKV,gBAAL;AACA,SAAKI,aAAL;AACIO,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BH,MAAM,CAACI,OAAP,CAAeC,KAA5C;AACA,aAAM,EACD,GAAGN,KADF;AAED,WAAGC,MAAM,CAACI,OAFT;AAGDE,QAAAA,OAAO,EAAC,KAHP;AAIDC,QAAAA,eAAe,EAAC;AAJf,OAAN;;AAUH,SAAKjB,aAAL;AACA,SAAKI,UAAL;AAEIQ,MAAAA,YAAY,CAACM,UAAb,CAAwB,OAAxB;AACA,aAAM,EACF,GAAGT,KADD;AAEFM,QAAAA,KAAK,EAAC,IAFJ;AAGFC,QAAAA,OAAO,EAAC,KAHN;AAIFC,QAAAA,eAAe,EAAC,KAJd;AAKFE,QAAAA,KAAK,EAACT,MAAM,CAACI;AALX,OAAN;;AAOA,SAAKf,YAAL;AACIa,MAAAA,YAAY,CAACM,UAAb,CAAwB,OAAxB;AACA,aAAM,EACF,GAAGT,KADD;AAEFU,QAAAA,KAAK,EAAC;AAFJ,OAAN;;AAIJ,SAAKjB,WAAL;AACI,aAAO,EACH,GAAGO,KADA;AAEHQ,QAAAA,eAAe,EAAC,IAFb;AAGHD,QAAAA,OAAO,EAAC,KAHL;AAIHI,QAAAA,IAAI,EAACV,MAAM,CAACI;AAJT,OAAP;;AAOH,SAAKP,SAAL;AACI,aAAO,EACF,GAAGE,KADD;AAEFY,QAAAA,KAAK,EAACX,MAAM,CAACI;AAFX,OAAP;;AAIL,SAAKX,UAAL;AACIS,MAAAA,YAAY,CAACM,UAAb,CAAwB,OAAxB;AACA,aAAO,EACH,GAAGT,KADA;AAEHM,QAAAA,KAAK,EAAC,IAFH;AAGHE,QAAAA,eAAe,EAAC,KAHb;AAIHD,QAAAA,OAAO,EAAC;AAJL,OAAP;;AAOA,SAAKV,MAAL;AACGM,MAAAA,YAAY,CAACM,UAAb,CAAwB,OAAxB;AACA,aAAM,EACF,GAAGT,KADD;AAEFM,QAAAA,KAAK,EAAC,IAFJ;AAGFE,QAAAA,eAAe,EAAC,KAHd;AAIFG,QAAAA,IAAI,EAAC,IAJH;AAKFJ,QAAAA,OAAO,EAAC;AALN,OAAN;;AAQZ;AACI,aAAOP,KAAP;AAhER;AAuEF,CAxEF","sourcesContent":["import {\r\n    CLEAR_ERRORS,\r\n    REGISTER_FAIL,\r\n    REGISTER_SUCCESS,\r\n    USER_LOADED,\r\n    AUTH_ERROR,\r\n    LOGIN_FAIL,\r\n    LOGIN_SUCCESS,\r\n    LOGOUT,\r\n    ALL_USERS,\r\n    STATUS\r\n} from '../types'\r\n\r\n\r\n\r\n\r\n\r\nexport default (state,action) => {\r\n    switch (action.type) {\r\n        case REGISTER_SUCCESS:\r\n        case LOGIN_SUCCESS:\r\n            localStorage.setItem('token',action.payload.token);\r\n            return{\r\n                 ...state,\r\n                 ...action.payload,\r\n                 loading:false,\r\n                 isAuthenticated:true,\r\n                 \r\n \r\n            }\r\n            \r\n     \r\n         case REGISTER_FAIL :\r\n         case LOGIN_FAIL: \r\n         \r\n             localStorage.removeItem('token')\r\n             return{\r\n                 ...state,\r\n                 token:null,\r\n                 loading:false,\r\n                 isAuthenticated:false,\r\n                 error:action.payload\r\n             }\r\n             case CLEAR_ERRORS :\r\n                 localStorage.removeItem('token')\r\n                 return{\r\n                     ...state,\r\n                     error:''\r\n                 }\r\n             case USER_LOADED:\r\n                 return {\r\n                     ...state,\r\n                     isAuthenticated:true,\r\n                     loading:false,\r\n                     user:action.payload\r\n \r\n                 }\r\n              case ALL_USERS:\r\n                  return {\r\n                       ...state,\r\n                       users:action.payload\r\n                  }   \r\n             case AUTH_ERROR:\r\n                 localStorage.removeItem('token')\r\n                 return {\r\n                     ...state,\r\n                     token:null,\r\n                     isAuthenticated:false,\r\n                     loading:false,\r\n                     \r\n                 }\r\n                 case LOGOUT:\r\n                    localStorage.removeItem('token')\r\n                    return{\r\n                        ...state,\r\n                        token:null,\r\n                        isAuthenticated:false,\r\n                        user:null,\r\n                        loading:false\r\n                    }\r\n             \r\n        default:\r\n            return state;\r\n    }\r\n \r\n \r\n \r\n \r\n \r\n }"]},"metadata":{},"sourceType":"module"}