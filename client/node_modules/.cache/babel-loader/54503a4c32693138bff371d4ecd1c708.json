{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\KIIT\\\\Desktop\\\\ecom\\\\client\\\\src\\\\components\\\\login.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from 'react';\nimport Back from './log2.jpg';\nimport AuthContext from '../authcontextapi/authcontext';\nimport setAuthToken from '../utils/setAuthToken';\nimport { useAlert } from 'react-alert';\nimport { Redirect } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport ParticlesBg from 'particles-bg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const MySwal = withReactContent(Swal);\n  const authcontext = useContext(AuthContext);\n  const {\n    login,\n    authstate,\n    loaduser\n  } = authcontext;\n  const alert = useAlert();\n  const [formdata, setformdata] = useState({\n    email: '',\n    password: ''\n  });\n  console.log(authstate.isAdmin);\n  const {\n    email,\n    password\n  } = formdata;\n  console.log(authstate);\n  useEffect(() => {\n    if (authstate.error.length > 0) {\n      authstate.error.forEach(err => {\n        MySwal.fire({\n          title: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: `${err.msg}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 27\n          }, this),\n          toast: true,\n          position: 'top-end',\n          showConfirmButton: false,\n          timer: 2000,\n          timerProgressBar: true,\n          icon: 'error'\n        });\n      });\n    }\n  }, [authstate.error, alert]);\n  useEffect(() => {\n    console.log(localStorage.token);\n\n    if (localStorage.token) {\n      setAuthToken(localStorage.token);\n      loaduser();\n    }\n  }, [authstate.token]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const onSubmit = e => {\n    e.preventDefault();\n    login({\n      email,\n      password\n    });\n    MySwal.fire({\n      title: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Logged in Successfully\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 31\n      }, this),\n      toast: true,\n      position: 'top-end',\n      showConfirmButton: false,\n      timer: 1000,\n      timerProgressBar: true,\n      icon: 'success'\n    });\n  }; //redirect \n\n\n  if (authstate.isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 14\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \" rounded mt-5   \",\n    children: [/*#__PURE__*/_jsxDEV(ParticlesBg, {\n      type: \"fountain\",\n      bg: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 18\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container \",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-3 \",\n          children: /*#__PURE__*/_jsxDEV(\"center\", {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"bg-dark\",\n              style: {\n                height: \"380px\"\n              },\n              src: Back,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-9\",\n          children: /*#__PURE__*/_jsxDEV(\"center\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"display-4\",\n              children: \"WELCOME\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"container pt-5 mt-5 p-4\",\n              onSubmit: e => onSubmit(e),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group col-lg-7\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"text-info\",\n                    children: \"Email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 106,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  className: \"form-control\",\n                  placeholder: \"Enter email\",\n                  value: formdata.email,\n                  onChange: e => setformdata({ ...formdata,\n                    email: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group col-lg-7\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"text-info\",\n                    children: \"Password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 20\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: \"form-control\",\n                  placeholder: \"Enter password\",\n                  value: formdata.password,\n                  onChange: e => setformdata({ ...formdata,\n                    password: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"  rounded btn btn-outline-info \",\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 19\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 16\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 11\n  }, this);\n};\n\n_s(Login, \"kvb4afO6fun/KxgauUgqX0dkYaA=\", false, function () {\n  return [useAlert];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/KIIT/Desktop/ecom/client/src/components/login.jsx"],"names":["React","useState","useContext","useEffect","Back","AuthContext","setAuthToken","useAlert","Redirect","Swal","withReactContent","ParticlesBg","Login","MySwal","authcontext","login","authstate","loaduser","alert","formdata","setformdata","email","password","console","log","isAdmin","error","length","forEach","err","fire","title","msg","toast","position","showConfirmButton","timer","timerProgressBar","icon","localStorage","token","onSubmit","e","preventDefault","isAuthenticated","height","target","value"],"mappings":"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","sourcesContent":["import React, { useState,useContext,useEffect } from 'react';\r\nimport Back from './log2.jpg'\r\nimport AuthContext from '../authcontextapi/authcontext';\r\nimport setAuthToken from '../utils/setAuthToken';\r\nimport { useAlert } from 'react-alert';\r\nimport {Redirect} from 'react-router-dom';\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\nimport ParticlesBg from 'particles-bg'\r\nconst Login = () => {\r\n    const MySwal = withReactContent(Swal)\r\n    const authcontext = useContext(AuthContext);\r\n    const {login,authstate,loaduser} = authcontext;\r\n    const alert = useAlert()\r\n      const [formdata,setformdata] = useState({\r\n            email:'',\r\n            password:''\r\n \r\n\r\n      })\r\n    console.log(authstate.isAdmin)\r\n      const {email,password} = formdata;\r\n      console.log(authstate);\r\n      useEffect(()=>{\r\n          if(authstate.error.length>0)\r\n          {\r\n              authstate.error.forEach(err=>{\r\n                MySwal.fire({\r\n                    title:<p>{`${err.msg}`}</p>,\r\n                    toast: true,\r\n                    position: 'top-end',\r\n                    showConfirmButton: false,\r\n                    timer:2000,\r\n                    timerProgressBar: true,\r\n                    icon: 'error',\r\n                 \r\n                })\r\n              })\r\n          }\r\n      },[authstate.error,alert])\r\n     \r\n       useEffect(()=>{\r\n           console.log(localStorage.token);\r\n            if(localStorage.token)\r\n            {\r\n               setAuthToken(localStorage.token)\r\n               loaduser();\r\n            }\r\n        \r\n        },[authstate.token])// eslint-disable-line react-hooks/exhaustive-deps\r\n     \r\n     \r\n         const onSubmit = (e)=>{\r\n            \r\n             e.preventDefault();\r\n           \r\n           \r\n   \r\n                 login({email,password});\r\n                 \r\n                    MySwal.fire({\r\n                        title:<p>Logged in Successfully</p>,\r\n                        toast: true,\r\n                        position: 'top-end',\r\n                        showConfirmButton: false,\r\n                        timer:1000,\r\n                        timerProgressBar: true,\r\n                        icon: 'success',\r\n                    })\r\n                \r\n               \r\n              \r\n             \r\n         }    \r\n//redirect \r\n  if(authstate.isAuthenticated)\r\n    {\r\n      return <Redirect to='/home'/>\r\n  }\r\n\r\n\r\n    return ( \r\n        \r\n          <div  className=\" rounded mt-5   \">\r\n                 <ParticlesBg type=\"fountain\" bg={true} /> \r\n               \r\n               <div className=\"container \">\r\n                 \r\n                  <div className=\"row\">\r\n                        <div className=\"col-lg-3 \">\r\n                        \r\n                            <center><img className=\"bg-dark\" style={{height:\"380px\"}} src={Back} alt=\"\"/></center>\r\n                           \r\n                        </div>\r\n                        <div className=\"col-lg-9\">\r\n                        <center>\r\n                <h1 className=\"display-4\">WELCOME</h1>\r\n       <form className=\"container pt-5 mt-5 p-4\" onSubmit={e=>onSubmit(e)}>\r\n       \r\n            \r\n              \r\n                \r\n                \r\n\r\n                <div className=\"form-group col-lg-7\">\r\n                    <h4><label className=\"text-info\">Email</label></h4>\r\n                    <input  type=\"email\" className=\"form-control\" placeholder=\"Enter email\" value={formdata.email} onChange={e=>setformdata({...formdata,email:e.target.value})}/>\r\n                </div>\r\n\r\n                <div className=\"form-group col-lg-7\">\r\n                   <h4> <label className=\"text-info\">Password</label></h4>\r\n                    <input  type=\"password\" className=\"form-control\" placeholder=\"Enter password\" value={formdata.password} onChange={e=>setformdata({...formdata,password:e.target.value})}/>\r\n                </div>\r\n\r\n                <button type=\"submit\" className=\"  rounded btn btn-outline-info \">Login</button>\r\n                \r\n            </form>\r\n            \r\n       \r\n                \r\n          \r\n           \r\n           \r\n            </center>\r\n                        </div>\r\n                  </div>\r\n               </div>\r\n          \r\n</div>\r\n        \r\n     );\r\n}\r\n \r\nexport default Login;"]},"metadata":{},"sourceType":"module"}