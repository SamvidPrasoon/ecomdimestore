{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\KIIT\\\\Desktop\\\\ecom\\\\client\\\\src\\\\ordercontextapi\\\\orderstate.js\",\n    _s = $RefreshSig$();\n\nimport React, { useReducer } from 'react';\nimport OrderContext from './ordercontext';\nimport OrderReducer from './orderreducer';\nimport setAuthToken from '../utils/setAuthToken';\nimport axios from 'axios';\nimport { CREATE_ORDER, ALL_ORDERS, PER_ORDER } from '../types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst OrderState = props => {\n  _s();\n\n  const initialstate = {\n    order: {},\n    orders: []\n  };\n  const [state, dispatch] = useReducer(OrderReducer, initialstate);\n\n  const createorder = async order => {\n    console.log('called');\n    console.log(order);\n\n    try {\n      const config = {\n        headers: {\n          'Content-Type': 'application/json',\n          \"Access-Control-Allow-Origin\": true\n        }\n      };\n      const res = await axios.post('http://localhost:5000/api/order', order, config);\n      dispatch({\n        type: CREATE_ORDER,\n        payload: res.data\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const getorders = async () => {\n    try {\n      const res = await axios.get('http://localhost:5000/api/order/allorders');\n      dispatch({\n        type: ALL_ORDERS,\n        payload: res.data\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const perorder = async id => {\n    try {\n      const res = await axios.get(`http://localhost:5000/api/order/${id}`);\n      dispatch({\n        type: PER_ORDER,\n        payload: res.data\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(OrderContext.Provider, {\n    value: {\n      createorder,\n      getorders,\n      perorder,\n      orderstate: state\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 12\n  }, this);\n};\n\n_s(OrderState, \"KgVMCb+nbzTZ2OM2rBr4zT2KgLE=\");\n\n_c = OrderState;\nexport default OrderState;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderState\");","map":{"version":3,"sources":["C:/Users/KIIT/Desktop/ecom/client/src/ordercontextapi/orderstate.js"],"names":["React","useReducer","OrderContext","OrderReducer","setAuthToken","axios","CREATE_ORDER","ALL_ORDERS","PER_ORDER","OrderState","props","initialstate","order","orders","state","dispatch","createorder","console","log","config","headers","res","post","type","payload","data","error","getorders","get","perorder","id","orderstate","children"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,YAAP,MAAyB,uBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SACIC,YADJ,EAEIC,UAFJ,EAGIC,SAHJ,QAIO,UAJP;;;AAMA,MAAMC,UAAU,GAAGC,KAAK,IAAE;AAAA;;AAGpB,QAAMC,YAAY,GAAE;AAElBC,IAAAA,KAAK,EAAC,EAFY;AAGlBC,IAAAA,MAAM,EAAC;AAHW,GAApB;AAME,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAmBd,UAAU,CAACE,YAAD,EAAcQ,YAAd,CAAnC;;AAED,QAAMK,WAAW,GAAG,MAAMJ,KAAN,IAAc;AAC9BK,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ;;AACA,QAAI;AACH,YAAMO,MAAM,GAAG;AACXC,QAAAA,OAAO,EAAC;AACJ,0BAAgB,kBADZ;AAEJ,yCAA+B;AAF3B;AADG,OAAf;AAOA,YAAMC,GAAG,GAAG,MAAMhB,KAAK,CAACiB,IAAN,CAAW,iCAAX,EAA6CV,KAA7C,EAAmDO,MAAnD,CAAlB;AACAJ,MAAAA,QAAQ,CAAC;AACLQ,QAAAA,IAAI,EAACjB,YADA;AAELkB,QAAAA,OAAO,EAACH,GAAG,CAACI;AAFP,OAAD,CAAR;AAIA,KAbD,CAaE,OAAOC,KAAP,EAAc;AACZT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,KAAZ;AACH;AACJ,GAnBD;;AAoBA,QAAMC,SAAS,GAAG,YAAS;AACvB,QAAI;AACH,YAAMN,GAAG,GAAG,MAAMhB,KAAK,CAACuB,GAAN,CAAU,2CAAV,CAAlB;AACAb,MAAAA,QAAQ,CAAC;AACLQ,QAAAA,IAAI,EAAChB,UADA;AAELiB,QAAAA,OAAO,EAACH,GAAG,CAACI;AAFP,OAAD,CAAR;AAIA,KAND,CAME,OAAOC,KAAP,EAAc;AACZT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,KAAZ;AACH;AACJ,GAVD;;AAWA,QAAOG,QAAQ,GAAG,MAAMC,EAAN,IAAW;AAC5B,QAAI;AACH,YAAMT,GAAG,GAAG,MAAMhB,KAAK,CAACuB,GAAN,CAAW,mCAAkCE,EAAG,EAAhD,CAAlB;AACAf,MAAAA,QAAQ,CAAC;AACLQ,QAAAA,IAAI,EAACf,SADA;AAELgB,QAAAA,OAAO,EAACH,GAAG,CAACI;AAFP,OAAD,CAAR;AAIA,KAND,CAME,OAAOC,KAAP,EAAc;AACZT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,KAAZ;AACH;AACJ,GAVE;;AAYA,sBACI,QAAC,YAAD,CAAc,QAAd;AACG,IAAA,KAAK,EACD;AACIV,MAAAA,WADJ;AAEIW,MAAAA,SAFJ;AAGIE,MAAAA,QAHJ;AAIGE,MAAAA,UAAU,EAACjB;AAJd,KAFP;AAAA,cAcCJ,KAAK,CAACsB;AAdP;AAAA;AAAA;AAAA;AAAA,UADJ;AAoBN,CA1ED;;GAAMvB,U;;KAAAA,U;AA4EN,eAAeA,UAAf","sourcesContent":["import React, { useReducer } from 'react';\r\nimport OrderContext from './ordercontext';\r\nimport OrderReducer from './orderreducer';\r\nimport setAuthToken from '../utils/setAuthToken'\r\nimport axios from 'axios';\r\nimport {\r\n    CREATE_ORDER,\r\n    ALL_ORDERS,\r\n    PER_ORDER\r\n} from '../types'\r\n\r\nconst OrderState = props=>{\r\n\r\n\r\n      const initialstate ={\r\n\r\n        order:{},\r\n        orders:[]\r\n      }\r\n\r\n        const [state,dispatch] = useReducer(OrderReducer,initialstate);\r\n        \r\n       const createorder = async(order)=>{\r\n           console.log('called');\r\n           console.log(order)\r\n           try {\r\n            const config = {\r\n                headers:{\r\n                    'Content-Type': 'application/json',\r\n                    \"Access-Control-Allow-Origin\": true,\r\n                    \r\n                }    \r\n            };\r\n            const res = await axios.post('http://localhost:5000/api/order',order,config)\r\n            dispatch({\r\n                type:CREATE_ORDER,\r\n                payload:res.data\r\n            }) \r\n           } catch (error) {\r\n               console.log(error);\r\n           }\r\n       }\r\n       const getorders = async()=>{\r\n           try {\r\n            const res = await axios.get('http://localhost:5000/api/order/allorders')\r\n            dispatch({\r\n                type:ALL_ORDERS,\r\n                payload:res.data\r\n            }) \r\n           } catch (error) {\r\n               console.log(error);\r\n           }\r\n       }\r\n       const  perorder = async(id)=>{\r\n        try {\r\n         const res = await axios.get(`http://localhost:5000/api/order/${id}`)\r\n         dispatch({\r\n             type:PER_ORDER,\r\n             payload:res.data\r\n         }) \r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n       return (\r\n           <OrderContext.Provider\r\n              value={\r\n                  {\r\n                      createorder,\r\n                      getorders,\r\n                      perorder,\r\n                     orderstate:state \r\n                  }\r\n              }\r\n           \r\n           \r\n           \r\n           >\r\n           \r\n           {props.children}\r\n           \r\n           </OrderContext.Provider>\r\n       )\r\n\r\n}\r\n\r\nexport default OrderState;"]},"metadata":{},"sourceType":"module"}